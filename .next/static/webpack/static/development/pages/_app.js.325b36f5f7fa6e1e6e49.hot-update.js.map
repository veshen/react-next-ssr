{"version":3,"file":"static/webpack/static/development/pages/_app.js.325b36f5f7fa6e1e6e49.hot-update.js","sources":["webpack:///./saga.js"],"sourcesContent":["/* global fetch */\n\nimport { all, call, delay, put, take, takeLatest } from 'redux-saga/effects'\nimport es6promise from 'es6-promise'\nimport 'isomorphic-unfetch'\nimport { getIndexList } from './axios/index'\nimport { actionTypes, failure, loadDataSuccess, tickClock } from './actions'\n\nes6promise.polyfill()\n\nfunction * runClockSaga () {\n  yield take(actionTypes.START_CLOCK)\n  while (true) {\n    yield put(tickClock(false))\n    yield delay(1000)\n  }\n}\n\nfunction * loadDataSaga () {\n  try {\n    // const res = yield call(fetch, 'http://qa-admin.hxihuyu.com/bbs/bbsposts/getPostsListByIsHandpick?size=20&current=1&isHandpick=1');\n    const res = yield call(getIndexList, {size:20,current:1,isHandpick:1});\n    // const data = yield res.json();\n    yield put(loadDataSuccess(res))\n  } catch (err) {\n    yield put(failure(err))\n  }\n}\nfunction* watchAndLog(getState) {\n  while(true) {\n    const action = yield take('*')\n    console.log('action', action)\n    // console.log('state after', getState())\n  }\n}\nfunction * rootSaga () {\n  yield all([\n    call(runClockSaga),\n    takeLatest(actionTypes.LOAD_DATA, loadDataSaga),\n  ])\n}\n\nexport default rootSaga\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAUA;;;AAQA;;;AAUA;;;AAOA;AACA;AApCA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAIA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAJA;AAGA;AAHA;AAKA;AACA;AANA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAOA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAEA;AACA;AACA;AAJA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;;;;A","sourceRoot":""}